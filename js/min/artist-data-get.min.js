$(function(){function onlyUnique(value,index,self){return self.indexOf(value)===index}$.ajax({url:"https://sheets.googleapis.com/v4/spreadsheets/1zd7Hg5FpmzwAigm699KMC0dbETxCY8cEHev2XxRNF58/values/A2:F1000?key=AIzaSyAdQED4n41OGr3U_Yxed9rT9y4gqx0VVGQ&majorDimension=ROWS",type:"GET",success:function(data){var values=data.values,artists=[],years=[],cyphers=[];$.each(values,function(cypher){var artist=values[cypher][0],year=values[cypher][1],artistObj=values[cypher][2],cypher=values[cypher][3],artistObj={name:artist,year:year,freestyle:artistObj,cypher:cypher};void 0!==cypher&&cyphers.push({cypher:cypher,year:year}),artists.push(artistObj),years.push(year)}),console.log(cyphers);var uniqueYears=years.filter(onlyUnique);$.each(uniqueYears,function(yearBlock){yearBlock='<div class="year" data-year='+uniqueYears[yearBlock]+'><div class="year-title">'+uniqueYears[yearBlock]+'</div><div class="year-content"><div class="content-section"><h3>Cyphers</h3><div class="vid-container cyphers"></div></div><div class="vid-container artists"><h3></div></div></div>';$("#years .inner-section").append(yearBlock)}),$.each(cyphers,function(cypherBlock){var cypherYear=cyphers[cypherBlock].year,cypherID=cyphers[cypherBlock].cypher,cypherBlock='<div class="cypher" data-cypher='+cypherID+"><div>"+cypherID+'</div><div class="cypher-artists"></div></div>';$("[data-cypher="+cypherID+"]").length<1&&$('[data-year="'+cypherYear+'"] .cyphers').append(cypherBlock)}),$.each(artists,function(artistCypher){var artistName=artists[artistCypher].name,artistYear=artists[artistCypher].year,artistCypher=(artists[artistCypher].freestyle,artists[artistCypher].cypher);$("[data-year="+artistYear+"] .artists").append("<div>"+artistName+"</div>"),$("[data-cypher="+artistCypher+"] .cypher-artists").append('<span class="cypher-artist">'+artistName+"</span>")})},error:function(data){}})});